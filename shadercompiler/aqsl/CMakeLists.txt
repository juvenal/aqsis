PROJECT(AQSL)

INCLUDE_DIRECTORIES(${AQSIS_BOOST_INCLUDE_DIR})

SET(AQSL_SRCS aqslcomp.cpp)

INCLUDE(${AQSISTYPES_SOURCE_DIR}/export.cmake)
INCLUDE(${ARGPARSE_SOURCE_DIR}/export.cmake)
INCLUDE(${SLPARSE_SOURCE_DIR}/export.cmake)
INCLUDE(${CODEGENVM_SOURCE_DIR}/export.cmake)
INCLUDE(${SLPP_SOURCE_DIR}/export.cmake)

INCLUDE(${SLPARSE_SOURCE_DIR}/local.cmake)
INCLUDE(${CODEGENVM_SOURCE_DIR}/local.cmake)
INCLUDE(${SLPP_SOURCE_DIR}/local.cmake)

ADD_EXECUTABLE(aqsl ${AQSL_SRCS} 
					${SLPARSE_SRCS} ${SLPARSE_HDRS}
					${CODEGENVM_SRCS} ${CODEGENVM_HDRS}
					${SLPP_SRCS} ${SLPP_HDRS})
SET(LINKLIBS ${AQSL_SYSTEM_LINKLIBS})
INCLUDE(${ARGPARSE_SOURCE_DIR}/link.cmake)
INCLUDE(${AQSISTYPES_SOURCE_DIR}/link.cmake)
TARGET_LINK_LIBRARIES(aqsl ${LINKLIBS})

ADD_DEPENDENCIES(aqsl slparser)

GET_TARGET_PROPERTY(AQSL_EXECUTABLE aqsl LOCATION)

SET_TARGET_PROPERTIES(aqsl PROPERTIES INSTALL_RPATH "${CMAKE_INSTALL_PREFIX}/${RENDERENGINEDIR}")
INSTALL(TARGETS aqsl 
	RUNTIME DESTINATION ${BINDIR})

SOURCE_GROUP("Header Files" FILES ${SLPARSE_HDRS} ${CODEGENVM_HDRS} ${SLPP_HDRS})
