PROJECT(AQSL)

INCLUDE_DIRECTORIES(${Boost_INCLUDE_DIR})

SET(AQSL_SRCS aqslcomp.cpp)

INCLUDE(${AQSISTYPES_SOURCE_DIR}/export.cmake)
INCLUDE(${ARGPARSE_SOURCE_DIR}/export.cmake)
INCLUDE(${SLPARSE_SOURCE_DIR}/export.cmake)
INCLUDE(${CODEGENVM_SOURCE_DIR}/export.cmake)

INCLUDE(${SLPARSE_SOURCE_DIR}/local.cmake)
INCLUDE(${CODEGENVM_SOURCE_DIR}/local.cmake)

ADD_EXECUTABLE(aqsl ${AQSL_SRCS} 
					${SLPARSE_SRCS} ${SLPARSE_HDRS}
					${CODEGENVM_SRCS} ${CODEGENVM_HDRS}
					${INFORES_SRCS})
SET(LINKLIBS ${AQSL_SYSTEM_LINKLIBS})
INCLUDE(${ARGPARSE_SOURCE_DIR}/link.cmake)
INCLUDE(${AQSISTYPES_SOURCE_DIR}/link.cmake)
SET(LINKLIBS ${LINKLIBS} ${Boost_WAVE_LIBRARY})
SET(LINKLIBS ${LINKLIBS} ${Boost_FILESYSTEM_LIBRARY})
TARGET_LINK_LIBRARIES(aqsl ${LINKLIBS})

ADD_DEPENDENCIES(aqsl slparser)

GET_TARGET_PROPERTY(AQSL_EXECUTABLE aqsl LOCATION)

INSTALL(TARGETS aqsl 
	RUNTIME DESTINATION ${BINDIR})

SOURCE_GROUP("Header Files" FILES ${SLPARSE_HDRS} ${CODEGENVM_HDRS} )
