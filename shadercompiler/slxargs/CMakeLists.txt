PROJECT(SLXARGS)

FILE(GLOB SLXARGS_SRCS ${SLXARGS_SOURCE_DIR}/*.cpp)
FILE(GLOB SLXARGS_HDRS ${SLXARGS_SOURCE_DIR}/*.h)

INCLUDE(${AQSISTYPES_SOURCE_DIR}/export.cmake)
INCLUDE(${AQSISLIB_SOURCE_DIR}/export.cmake)
INCLUDE(${RIBAPI_SOURCE_DIR}/export.cmake)
INCLUDE(${SHADERVM_SOURCE_DIR}/export.cmake)
INCLUDE(${SHADEREXECENV_SOURCE_DIR}/export.cmake)
INCLUDE(${RIB_SOURCE_DIR}/export.cmake)
INCLUDE(${RIB2RI_SOURCE_DIR}/export.cmake)
INCLUDE(${AQSISTEX_SOURCE_DIR}/export.cmake)

INCLUDE_DIRECTORIES(${AQSIS_BOOST_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/interfaces)

ADD_DEFINITIONS(-DSLXARGS_EXPORTS)

ADD_LIBRARY(slxargs SHARED ${SLXARGS_SRCS} ${SLXARGS_HDRS} ${INFORES_SRCS})

SET(LINKLIBS)
INCLUDE(${SHADERVM_SOURCE_DIR}/link.cmake)
TARGET_LINK_LIBRARIES(slxargs ${LINKLIBS})
SET_TARGET_PROPERTIES(slxargs PROPERTIES SOVERSION ${MAJOR} VERSION "${MAJOR}.${MINOR}")

INSTALL(TARGETS slxargs
	RUNTIME DESTINATION ${BINDIR}
	LIBRARY DESTINATION ${LIBDIR}
	ARCHIVE DESTINATION ${LIBDIR})

INSTALL(FILES ${SLXARGS_HDRS} DESTINATION ${INCLUDEDIR})

SOURCE_GROUP("Header Files" FILES ${SLXARGS_HDRS})
