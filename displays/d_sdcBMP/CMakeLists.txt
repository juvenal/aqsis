PROJECT(D_BMP)

FILE(GLOB D_BMP_SRCS ${PROJECT_SOURCE_DIR}/*.cpp)
FILE(GLOB D_BMP_HDRS ${PROJECT_SOURCE_DIR}/*.h)

ADD_DEFINITIONS(-DD_BMP_EXPORTS)

INCLUDE(${DDMANAGER_SOURCE_DIR}/export.cmake)

ADD_LIBRARY(d_bmp SHARED ${D_BMP_SRCS} ${D_BMP_HDRS})

# Generate the display declaration for the aqsisrc file.
GET_TARGET_PROPERTY(LOCOFD_BMP d_bmp LOCATION)
GET_FILENAME_COMPONENT(DISPLAYLIB ${LOCOFD_BMP} NAME)

SET(LINKLIBS ${AQSIS_TIFF_LIBRARIES} ${AQSIS_ZLIB_LIBRARIES})

TARGET_LINK_LIBRARIES(d_bmp ${LINKLIBS})

INSTALL(TARGETS d_bmp 
	RUNTIME DESTINATION ${DISPLAYSDIR}
	LIBRARY DESTINATION ${DISPLAYSDIR}
	ARCHIVE DESTINATION ${LIBDIR})

SOURCE_GROUP("Header Files" FILES ${D_BMP_HDRS})