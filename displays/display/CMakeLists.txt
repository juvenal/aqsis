PROJECT(DISPLAY)

FILE(GLOB DISPLAY_CPP_SRCS ${PROJECT_SOURCE_DIR}/*.cpp)
FILE(GLOB DISPLAY_C_SRCS ${PROJECT_SOURCE_DIR}/*.c)
FILE(GLOB DISPLAY_HDRS ${PROJECT_SOURCE_DIR}/*.h)

SET(DISPLAY_SRCS ${DISPLAY_CPP_SRCS} ${DISPLAY_C_SRCS})

ADD_DEFINITIONS(-DDISPLAY_EXPORTS)

INCLUDE(${AQSISTYPES_SOURCE_DIR}/export.cmake)
INCLUDE(${DDMANAGER_SOURCE_DIR}/export.cmake)

INCLUDE_DIRECTORIES(${TIFF_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${ZLIB_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${FLTK_INCLUDE_DIR})

ADD_LIBRARY(display SHARED ${DISPLAY_SRCS})

SET(LINKLIBS ${TIFF_LIBRARIES} ${ZLIB_LIBRARIES} ${FLTK_LIBRARIES})
INCLUDE(${AQSISTYPES_SOURCE_DIR}/link.cmake)

TARGET_LINK_LIBRARIES(display ${LINKLIBS})
SET_TARGET_PROPERTIES(display PROPERTIES VERSION ${MAJOR} SOVERSION "${MAJOR}.${MINOR}")

INSTALL(TARGETS display 
	RUNTIME DESTINATION ${DISPLAYSDIR}
	LIBRARY DESTINATION ${DISPLAYSDIR}
	ARCHIVE DESTINATION ${LIBDIR})
