PROJECT(AQSIS)

SET(AQSIS_SRCS aqsis.cpp)

INCLUDE(${AQSISTYPES_SOURCE_DIR}/export.cmake)
INCLUDE(${RIBAPI_SOURCE_DIR}/export.cmake)
INCLUDE(${RIB2RI_SOURCE_DIR}/export.cmake)
INCLUDE(${ARGPARSE_SOURCE_DIR}/export.cmake)

INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/interfaces)

IF(AQSIS_ENABLE_MPDUMP)
	ADD_DEFINITIONS(-DENABLE_MPDUMP)
ENDIF(AQSIS_ENABLE_MPDUMP)

ADD_EXECUTABLE(aqsis ${AQSIS_SRCS} ${INFORES_SRCS})

SET(LINKLIBS ${AQSIS_TIFF_LIBRARIES} ${AQSISEXE_SYSTEM_LINKLIBS})
INCLUDE(${ARGPARSE_SOURCE_DIR}/link.cmake)
INCLUDE(${AQSISTYPES_SOURCE_DIR}/link.cmake)
INCLUDE(${AQSISLIB_SOURCE_DIR}/link.cmake)
INCLUDE(${SHADERVM_SOURCE_DIR}/link.cmake)

TARGET_LINK_LIBRARIES(aqsis ${LINKLIBS})

INSTALL(TARGETS aqsis
	RUNTIME DESTINATION ${BINDIR})
