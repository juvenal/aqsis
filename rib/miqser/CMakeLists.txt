PROJECT(MIQSER)

SET(MIQSER_SRCS miqser.cpp)

INCLUDE(${AQSISTYPES_SOURCE_DIR}/export.cmake)
INCLUDE(${RIBAPI_SOURCE_DIR}/export.cmake)
INCLUDE(${RIB_SOURCE_DIR}/export.cmake)
INCLUDE(${RIB2RI_SOURCE_DIR}/export.cmake)
INCLUDE(${ARGPARSE_SOURCE_DIR}/export.cmake)

INCLUDE(${RIB_SOURCE_DIR}/local.cmake)
INCLUDE(${RIB2RI_SOURCE_DIR}/local.cmake)

INCLUDE_DIRECTORIES(${AQSIS_ZLIB_INCLUDE_DIR})

ADD_EXECUTABLE(miqser	${MIQSER_SRCS} 
						${RIB_SRCS} ${RIB_HDRS}
						${RIB2RI_SRCS} ${RIB2RI_HDRS}
						${INFORES_SRCS})

SET(LINKLIBS ${MIQSER_SYSTEM_LINKLIBS})
INCLUDE(${ARGPARSE_SOURCE_DIR}/link.cmake)
INCLUDE(${AQSISTYPES_SOURCE_DIR}/link.cmake)
INCLUDE(${RI2RIB_SOURCE_DIR}/link.cmake)

TARGET_LINK_LIBRARIES(miqser ${LINKLIBS})

SET_TARGET_PROPERTIES(miqser PROPERTIES INSTALL_RPATH "${CMAKE_INSTALL_PREFIX}/${LIBDIR}")
INSTALL(TARGETS miqser
	RUNTIME DESTINATION ${BINDIR})

SOURCE_GROUP("Header Files" FILES ${RIB_HDRS} ${RIB2RI_HDRS})
