PROJECT(RI2RIB)

FILE(GLOB RI2RIB_SRCS ${PROJECT_SOURCE_DIR}/*.cpp)
FILE(GLOB RI2RIB_HDRS ${PROJECT_SOURCE_DIR}/*.h)

ADD_DEFINITIONS(-DRI_EXPORTS)

INCLUDE(${AQSISTYPES_SOURCE_DIR}/export.cmake)
INCLUDE(${RIBAPI_SOURCE_DIR}/export.cmake)

INCLUDE_DIRECTORIES(${AQSIS_ZLIB_INCLUDE_DIR})

ADD_LIBRARY(ri2rib SHARED ${RI2RIB_SRCS} ${RI2RIB_HDRS} ${INFORES_SRCS})

SET(LINKLIBS ${AQSIS_ZLIB_LIBRARIES})
INCLUDE(${AQSISTYPES_SOURCE_DIR}/link.cmake)
TARGET_LINK_LIBRARIES(ri2rib ${LINKLIBS})
SET_TARGET_PROPERTIES(ri2rib PROPERTIES OUTPUT_NAME "aqsis_ri2rib" SOVERSION ${MAJOR} VERSION "${MAJOR}.${MINOR}")

INSTALL(TARGETS ri2rib 
	RUNTIME DESTINATION ${BINDIR}
	LIBRARY DESTINATION ${LIBDIR}
	ARCHIVE DESTINATION ${LIBDIR})

SOURCE_GROUP("Header Files" FILES ${RI2RIB_HDRS})
