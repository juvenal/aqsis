Import('env')
rib2_sources = Split("""
	bdec.cpp
	librib.cpp
	scanner.cpp
	parser.cpp""")

rib2_install_headers = Split("""
	librib.h
	parserstate.h
	rib2_common.h""")

rib2_headers = rib2_install_headers + Split("""
	bdec.h
	libribtypes.h""")

rib2env = env.Copy()

rib2env.CXXFile(target='parser.cpp', source='parser.yy')
rib2env.CXXFile(target='scanner.cpp', source='scanner.ll')

# Set any platform specific options for this target
rib2env.UseTargetOptions('rib2')
rib2env.AppendUnique(CPPDEFINES = ['RIB_EXPORTS'])
rib2env.AppendUnique(CPPPATH=['$zlib_include_path'])

rib2_objs = [rib2env.SharedObject(file) for file in rib2_sources]

Export('rib2_objs')

env.Distribute(rib2_sources)
env.Distribute(rib2_headers)
env.Distribute('SConscript')
env.Distribute('scanner.ll')
env.Distribute('parser.yy')


