PROJECT(doxygen_docs)

SET(AQSIS_DOXYGEN_OUTPUT_DIR "${CMAKE_BINARY_DIR}/doxygen_docs")
SET(AQSIS_DOC_HTML "NO")
SET(AQSIS_DOC_SEARCHBAR "NO")

IF(AQSIS_ENABLE_DOC_HTML)
	SET(AQSIS_DOC_HTML "YES")
ENDIF(AQSIS_ENABLE_DOC_HTML)
IF(AQSIS_ENABLE_DOC_SEARCHBAR)
	SET(AQSIS_DOC_SEARCHBAR "YES")
ENDIF(AQSIS_ENABLE_DOC_SEARCHBAR)

SET(__DOXYFILE_IN  "${PROJECT_SOURCE_DIR}/Doxyfile.in.cmake")
SET(__DOXYFILE_OUT "${PROJECT_BINARY_DIR}/Doxyfile")

# Configure the doxygen config file
MESSAGE(STATUS "Create ${__DOXYFILE_OUT} from ${__DOXYFILE_IN}")
CONFIGURE_FILE(${__DOXYFILE_IN}
	${__DOXYFILE_OUT}
	@ONLY)

# Setup the doc build target
ADD_CUSTOM_TARGET(doc
	${DOXYGEN_EXECUTABLE} ${__DOXYFILE_OUT}
	DEPENDS ${__DOXYFILE_OUT})
