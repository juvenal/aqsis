PROJECT(TEXLIB)

INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR})
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/interfaces)
###INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/rib/api)
INCLUDE_DIRECTORIES(${AQSIS_BOOST_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${AQSIS_TIFF_INCLUDE_DIR})

# Internal dependencies
INCLUDE(${AQSISTYPES_SOURCE_DIR}/export.cmake)
###INCLUDE(${RIBAPI_SOURCE_DIR}/export.cmake)

FILE(GLOB TEXLIB_SRCS ${PROJECT_SOURCE_DIR}/*.cpp)
FILE(GLOB TEXLIB_TEST_SRCS ${PROJECT_SOURCE_DIR}/*_test.cpp)
FILTER_OUT("${TEXLIB_TEST_SRCS}" "${TEXLIB_SRCS}" TEXLIB_SRCS)
FILE(GLOB TEXLIB_HEADERS ${PROJECT_SOURCE_DIR}/*.h)

ADD_DEFINITIONS(-DTEXLIB_EXPORTS)
ADD_LIBRARY(texlib SHARED ${TEXLIB_SRCS})

SET(LINKLIBS ${AQSIS_TIFF_LIBRARIES})
INCLUDE(${AQSISTYPES_SOURCE_DIR}/link.cmake)
TARGET_LINK_LIBRARIES(texlib ${LINKLIBS})

SET_TARGET_PROPERTIES(texlib PROPERTIES VERSION ${MAJOR} SOVERSION "${MAJOR}.${MINOR}")

INSTALL(TARGETS texlib
	RUNTIME DESTINATION ${RENDERENGINEDIR}
	LIBRARY DESTINATION ${RENDERENGINEDIR}
	ARCHIVE DESTINATION ${LIBDIR})        


