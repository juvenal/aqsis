###############################################################################
# File: lincurve_test4.rib
#
# Description:
#   Test of different primitive variable storage classes on linear curves.
#   This file tests varying and uniform storage classes.  The vertex storage
#   class is tested implicitly with all "P" values, and the constant storage
#   class is fairly trivial.
#
# See also: curves.cpp, curves.h, ri.cpp
#
# Author:  Jonathan Merritt (jmerritt@pgrad.unimelb.edu.au), 6th Oct 2002.
###############################################################################

Option "searchpath" "shader" ["../../shaders:&"]

Format 320 200 1
PixelFilter "gaussian" 2 2
Display "lincurve_test4.tif" "file" "rgb" "string compression" "lzw"
#Display "+lincurve_test4.tif" "framebuffer" "rgb"

LightSource "distantlight" 1

Projection "perspective" "fov" [45]
Translate 0 0 15 

WorldBegin

# Top left curves (horseshoe shape).
# Test of "varying color Cs" on a non-periodic multi-segment linear curve.
AttributeBegin
	Translate -6 3 0	
	# There are 8 vertices, so there are 8 color values
	# The inner curve goes: red,  green,   blue, yellow
	# The outer curve goes: cyan, magenta, red,  green
	Surface "matte"
	Curves "linear" [ 4 4 ] "nonperiodic" "P" [
	 -1 -1 0  -1 1 0  1 1 0  1 -1 0
	 -2 -2 0  -2 2 0  2 2 0  2 -2 0
	] "constantwidth" [ .5 ] "Cs" [
	 1 0 0  0 1 0  0 0 1  1 1 0
	 0 1 1  1 0 1  1 0 0  0 1 0
	]
AttributeEnd

# Top middle.
# Test of "varying color Cs" on a periodic multi-segment linear curve.
AttributeBegin
	Translate 0 3 0
	# There are 8 vertices, so there are 8 color values
	# The inner curve goes: red,  green,   blue, yellow
	# The outer curve goes: cyan, magenta, red,  green
	Surface "matte"
	Curves "linear" [ 4 4 ] "periodic" "P" [
	 -1 -1 0  -1 1 0  1 1 0  1 -1 0
	 -2 -2 0  -2 2 0  2 2 0  2 -2 0
	] "constantwidth" [ .5 ] "Cs" [
	 1 0 0  0 1 0  0 0 1  1 1 0
	 0 1 1  1 0 1  1 0 0  0 1 0
	]
AttributeEnd

# Bottom middle
# Test of "uniform color facecol" on a periodic multi-segment linear curve.
AttributeBegin
	Translate 0 -3 0
	# There are 2 curves, so there are 2 uniform values
	Declare "facecol" "uniform color"
	Surface "face_plastic" "Ks" [0]
	Curves "linear" [ 4 4 ] "periodic" "P" [
	 -1 -1 0  -1 1 0  1 1 0  1 -1 0
	 -2 -2 0  -2 2 0  2 2 0  2 -2 0
	] "constantwidth" [ .5 ] "facecol" [
	 1 0 0  0 1 0  
	]
AttributeEnd

# Bottom right.
# Test of "uniform color facecol" on a nonperiodic multi-segment linear curve.
AttributeBegin
	Translate 6 -3 0
	# There are 2 curves, so there are 2 uniform values
	Declare "facecol" "uniform color"
	Surface "face_plastic" "Ks" [0]
	Curves "linear" [ 4 4 ] "nonperiodic" "P" [
	 -1 -1 0  -1 1 0  1 1 0  1 -1 0
	 -2 -2 0  -2 2 0  2 2 0  2 -2 0
	] "constantwidth" [ .5 ] "facecol" [
	 1 0 0  0 1 0  
	]
AttributeEnd

WorldEnd
