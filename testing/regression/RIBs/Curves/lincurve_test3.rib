###############################################################################
# File: lincurve_test3.rib
#
# Description:
#   Test of linear curves shaded with the "curvetube" shader, showing how a
#   cylindrical appearance can be achieved with a flat curve.
#
# See also: curvetube.sl, curves.cpp, curves.h, ri.cpp
#
# Author: Jonathan Merritt (jmerritt@pgrad.unimelb.edu.au), 6th Oct 2002.
###############################################################################

Format 320 200 1
Display "lincurve_test3.tif" "file" "rgb" "string compression" "deflate"
#Display "+lincurve_test3.tif" "framebuffer" "rgb"
PixelFilter "catmull-rom" 3 3
PixelSamples 4 4
ShadingRate .8
Option "searchpath" "shader" ["../../shaders:&"]
Clipping 1 100

LightSource "pointlight" 3 "from" [ -10 0 8 ] "intensity" [50]

Projection "perspective" "fov" [45]
Translate 0 0 3

WorldBegin

LightSource "distantlight" 1 "from" [ 1 1 -5 ] "to" [ 0 0 0 ] 
"intensity" [.6]
LightSource "distantlight" 2 "from" [ 1 -1 -1 ] "to" [ 0 0 0 ] 
"intensity" [.3]

Surface "curvetube" "roughness" [.6] "Ks" [.3] "constantwidth" [ .08 ]

Rotate 50 0 1 0

# 0 degrees
AttributeBegin
	Color [ 1 0 0 ]
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

# 30 degrees
AttributeBegin
	Color [ .8 .2 0 ]
	Rotate 30 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

# 60 degrees
AttributeBegin
	Color [ .6 .4 0 ]
	Rotate 60 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd
LightSource "pointlight" 4 "from" [ -1 0 4 ] "intensity" [50]

# 90 degrees
AttributeBegin
	Color [ .4 .6 0 ]
	Rotate 90 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

# 120 degrees
AttributeBegin
	Color [ .2 .8 0 ]
	Rotate 120 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

# 150 degrees
AttributeBegin
	Color [ 0 1 0 ]
	Rotate 150 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

# 180 degrees
AttributeBegin
	Color [ 0 .8 .2 ]
	Rotate 180 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

# 210 degrees
AttributeBegin
	Color [ 0 .6 .4 ]
	Rotate 210 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

# 240 degrees
AttributeBegin
	Color [ 0 .4 .6 ]
	Rotate 240 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

# 270 degrees
AttributeBegin
	Color [ 0 .2 .8 ]
	Rotate 270 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

# 300 degrees
AttributeBegin
	Color [ 0 0 1 ]
	Rotate 300 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

# 330 degrees
AttributeBegin
	Color [ .5 0 .5 ]
	Rotate 330 0 0 1
	Curves "linear" [2] "nonperiodic"
	"P" [ .3 0 0  20 0 0 ]
	"constantwidth" [.08]
AttributeEnd

WorldEnd
