###############################################################################
# File: lincurve_test2.rib
#
# Description:
#   Test for user-specified normals and sidedness of linear curves.  The
#   RiSpec states that the user may specify normals to curves in object space
#   that specify the orientation of the curve.  Only in the case that the user
#   does not specify normals should the curve be oriented toward the camera.
#
# See also: curves.cpp, curves.h, ri.cpp
#
# Author: Jonathan Merritt (jmerritt@pgrad.unimelb.edu.au), 6th Oct 2002.
###############################################################################

Format 320 200 1
PixelFilter "gaussian" 2 2
Display "lincurve_test2.tif" "file" "rgb" "string compression" "lzw"
#Display "+lincurve_test2.tif" "framebuffer" "rgb"

Projection "perspective" "fov" [45]
Translate 0 0 12 

WorldBegin

LightSource "distantlight" 1 "from" [ 1 1 -5 ] "to" [ 0 0 0 ] 
"intensity" [.6]
LightSource "distantlight" 2 "from" [ 1 -1 -1 ] "to" [ 0 0 0 ] 
"intensity" [.3]

Surface "matte"

# Red bow-tie shaped curve (top right).
AttributeBegin
	Color [ 1 0 0 ]
	Translate 3 2 0
	Curves "linear" [ 2 ] "nonperiodic"
	"P" [ -1 0 0 1 0 0 ]
	"constantwidth" [ 1.0 ]
	"N" [ 0 1 .5 0 0 -1 ]
AttributeEnd

# Green wavy curve (middle).
AttributeBegin
	Color [ 0 1 0 ]
	Scale 3 2 2
	Curves "linear" [ 5 ] "nonperiodic"
	"P" [ -2 0 0  -1 0 0  0 0 0  1 0 0  2 0 0 ]
	"constantwidth" [ 1.0 ]
	"N" [ 0 1 -1  0 0 -1  0 1 -1  0 0 -1  0 1 -1 ]
AttributeEnd

# Blue, 2-sided curve (left).
AttributeBegin
	Sides 2
	Color [ 0 0 1 ]
	Translate -1 0 0 
	Rotate 30 0 1 0
	Scale 3 3 3
	Curves "linear" [ 2 2 2 2 ] "nonperiodic"
	"P" [ 0 -1 -1  0 1 -1  0 1 -1 0 1 1 0 1 1 0 -1 1 0 -1 1 0 -1 -1 ]
	"constantwidth" [ 0.3 ]
	"N" [ 0 0 -1 0 0 -1  0 1 0  0 1 0  0 0 1  0 0 1  0 -1 0  0 -1 0 ]
AttributeEnd

# Purple, 1-sided curve (right).
AttributeBegin
	Sides 1
	Color [ 1 0 1 ]
	Translate 1 0 0 
	Rotate 30 0 1 0
	Scale 3 3 3
	Curves "linear" [ 2 2 2 2 ] "nonperiodic"
	"P" [ 0 -1 -1  0 1 -1  0 1 -1 0 1 1 0 1 1 0 -1 1 0 -1 1 0 -1 -1 ]
	"constantwidth" [ 0.3 ]
	"N" [ 0 0 -1 0 0 -1  0 1 0  0 1 0  0 0 1  0 0 1  0 -1 0  0 -1 0 ]
AttributeEnd

WorldEnd
