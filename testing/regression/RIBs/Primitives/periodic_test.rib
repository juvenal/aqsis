version 3.03
Option "searchpath" "shader" ["../shaders:&"]

Display "periodic_test.tif" "file" "rgba" "string compression" "lzw"

Format 200 150 1
ShadingRate 2

Projection "perspective" "fov" 45
Rotate -30 1 0 0
Translate 0 -3 6

Option "limits" "eyesplits" 3
Sides 2

WorldBegin
      
  LightSource "distantlight" 3 "intensity" [0.3] "lightcolor" [1 1 1] "from" [0 4 -2] "to" [0 0 0]
  LightSource "distantlight" 4 "intensity" [0.7] "lightcolor" [1 1 1] "from" [1 2 -2] "to" [0 0 0]
  LightSource "ambientlight" 0 "intensity" [0.1]

  Color [1 1 1]
  Surface "matte"

  TransformBegin
	Translate 1.5 0 1
	PatchMesh "bilinear" 4 "periodic" 2 "nonperiodic"
		"P"	[
			   -1 0 -1
				1 0 -1
				1 0 1
			   -1 0 1

			   -1 1 -1
				1 1 -1
				1 1 1
			   -1 1 1
			]
  TransformEnd

  TransformBegin
	Translate -1.5 0 1
	PatchMesh "bilinear" 2 "nonperiodic" 4 "periodic"
		"P"	[
			   -1 0 -1
			   -1 1 -1
				
			    1 0 -1
				1 1 -1

			    1 0 1
				1 1 1

			   -1 0 1
			   -1 1 1
			]
  TransformEnd

  TransformBegin
	AttributeBegin
	Translate 1.5 -1.5 0
	PatchMesh "bicubic" 12 "periodic" 4 "nonperiodic" 
		"P" [
			-1.0 0.0  0.0
			-1.0 0.0  0.3
			-0.3 0.0  1.0
			 0.0 0.0  1.0
			 0.3 0.0  1.0
			 1.0 0.0  0.3
			 1.0 0.0  0.0
			 1.0 0.0 -0.3
			 0.3 0.0 -1.0
			 0.0 0.0 -1.0
			-0.3 0.0 -1.0
			-1.0 0.0 -0.3

			-1.0 0.25  0.0
			-1.0 0.25  0.3
			-0.3 0.25  1.0
			 0.0 0.25  1.0
			 0.3 0.25  1.0
			 1.0 0.25  0.3
			 1.0 0.25  0.0
			 1.0 0.25 -0.3
			 0.3 0.25 -1.0
			 0.0 0.25 -1.0
			-0.3 0.25 -1.0
			-1.0 0.25 -0.3

			-1.0 0.75  0.0
			-1.0 0.75  0.3
			-0.3 0.75  1.0
			 0.0 0.75  1.0
			 0.3 0.75  1.0
			 1.0 0.75  0.3
			 1.0 0.75  0.0
			 1.0 0.75 -0.3
			 0.3 0.75 -1.0
			 0.0 0.75 -1.0
			-0.3 0.75 -1.0
			-1.0 0.75 -0.3

			-1.0 1.0  0.0
			-1.0 1.0  0.3
			-0.3 1.0  1.0
			 0.0 1.0  1.0
			 0.3 1.0  1.0
			 1.0 1.0  0.3
			 1.0 1.0  0.0
			 1.0 1.0 -0.3
			 0.3 1.0 -1.0
			 0.0 1.0 -1.0
			-0.3 1.0 -1.0
			-1.0 1.0 -0.3
		]
	AttributeEnd
  TransformEnd

  TransformBegin
	AttributeBegin
	Translate -1.5 -1.5 0
	PatchMesh "bicubic" 4 "nonperiodic" 12 "periodic" 
		"P" [
			-1.0 0.0   0.0
			-1.0 0.25  0.0
			-1.0 0.75  0.0
			-1.0 1.0   0.0

			-1.0 0.0   0.3
			-1.0 0.25  0.3
			-1.0 0.75  0.3
			-1.0 1.0   0.3

			-0.3 0.0   1.0
			-0.3 0.25  1.0
			-0.3 0.75  1.0
			-0.3 1.0   1.0

			 0.0 0.0   1.0
			 0.0 0.25  1.0
			 0.0 0.75  1.0
			 0.0 1.0   1.0

			 0.3 0.0   1.0
			 0.3 0.25  1.0
			 0.3 0.75  1.0
			 0.3 1.0   1.0

			 1.0 0.0   0.3
			 1.0 0.25  0.3
			 1.0 0.75  0.3
			 1.0 1.0   0.3

			 1.0 0.0   0.0
			 1.0 0.25  0.0
			 1.0 0.75  0.0
			 1.0 1.0   0.0

			 1.0 0.0  -0.3
			 1.0 0.25 -0.3
			 1.0 0.75 -0.3
			 1.0 1.0  -0.3

			 0.3 0.0  -1.0
			 0.3 0.25 -1.0
			 0.3 0.75 -1.0
			 0.3 1.0  -1.0

			 0.0 0.0  -1.0
			 0.0 0.25 -1.0
			 0.0 0.75 -1.0
			 0.0 1.0  -1.0

			-0.3 0.0  -1.0
			-0.3 0.25 -1.0
			-0.3 0.75 -1.0
			-0.3 1.0  -1.0

			-1.0 0.0  -0.3
			-1.0 0.25 -0.3
			-1.0 0.75 -0.3
			-1.0 1.0  -0.3
		]
	AttributeEnd
  TransformEnd

WorldEnd

